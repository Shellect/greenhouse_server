# üçì Greenhouse Device QR Code Format

## –§–æ—Ä–º–∞—Ç QR –∫–æ–¥–∞

QR –∫–æ–¥ –Ω–∞ –∫–æ—Ä–ø—É—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫ —Ç–æ—á–∫–µ –¥–æ—Å—Ç—É–ø–∞ NodeMCU.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
GREENHOUSE:UID=<device_id>;SSID=<ap_ssid>;PWD=<ap_password>
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|----------|----------|--------|
| `UID` | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | `GH-0001` |
| `SSID` | –ò–º—è WiFi —Å–µ—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (AP mode) | `Greenhouse-GH-0001` |
| `PWD` | –ü–∞—Ä–æ–ª—å WiFi —Å–µ—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | `greenhouse2024` |

### –ü—Ä–∏–º–µ—Ä

```
GREENHOUSE:UID=GH-0001;SSID=Greenhouse-GH-0001;PWD=greenhouse2024
```

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR –∫–æ–¥–∞

### Python —Å–∫—Ä–∏–ø—Ç

```python
import qrcode

def generate_device_qr(device_id: str, ap_password: str = "greenhouse2024"):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç QR –∫–æ–¥ –¥–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞"""
    ssid = f"Greenhouse-{device_id}"
    content = f"GREENHOUSE:UID={device_id};SSID={ssid};PWD={ap_password}"
    
    qr = qrcode.QRCode(
        version=1,
        error_correction=qrcode.constants.ERROR_CORRECT_M,
        box_size=10,
        border=4,
    )
    qr.add_data(content)
    qr.make(fit=True)
    
    img = qr.make_image(fill_color="black", back_color="white")
    img.save(f"qr_{device_id}.png")
    
    return content

# –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
generate_device_qr("GH-0001")
```

### –û–Ω–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª—é–±–æ–π –æ–Ω–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR –∫–æ–¥–æ–≤. –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:

```
GREENHOUSE:UID=GH-0001;SSID=Greenhouse-GH-0001;PWD=greenhouse2024
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–µ—á–∞—Ç–∏

1. **–†–∞–∑–º–µ—Ä**: –º–∏–Ω–∏–º—É–º 25x25 –º–º –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ–≥–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
2. **–ö–æ–Ω—Ç—Ä–∞—Å—Ç**: —á—ë—Ä–Ω—ã–π –∫–æ–¥ –Ω–∞ –±–µ–ª–æ–º —Ñ–æ–Ω–µ
3. **–ó–∞—â–∏—Ç–∞**: –ª–∞–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–∞—è –Ω–∞–∫–ª–µ–π–∫–∞
4. **–†–∞–∑–º–µ—â–µ–Ω–∏–µ**: –≤–∏–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –∫–æ—Ä–ø—É—Å–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª—å AP (`greenhouse2024`) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º STA –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –¥–æ–º–∞—à–Ω–µ–π —Å–µ—Ç–∏
- AP —Å–µ—Ç—å —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏–ª–∏ –ø—Ä–∏ —Å–±—Ä–æ—Å–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

## –ü—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

–ü—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ –∫–∞–∂–¥–æ–º—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤—É –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `DEVICE_UID`:

```cpp
// –í —Ñ–∞–π–ª–µ greenhouse_controller.ino
#define DEVICE_UID "GH-0001"  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
```

–î–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä —á–∏–ø–∞ ESP8266: `ESP.getChipId()`
2. –ò–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –Ω–∞ —ç—Ç–∞–ø–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

```cpp
String getDeviceUID() {
    char uid[16];
    snprintf(uid, sizeof(uid), "GH-%04X", ESP.getChipId() & 0xFFFF);
    return String(uid);
}
```

